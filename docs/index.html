<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="shortcut icon"
      href="https://hakanalpay.com/bahunya/src/bahunya-logo.svg"
      type="xml/svg"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/kimeiga/bahunya/dist/bahunya.min.css"
    />
    <title>Thingyan</title>
  </head>
  <body>
    <nav>
      <a href="https://github.com/phothinmg/thingyan" target="_blank">Github</a>
      <a href="https://phothinmg.github.io/thingyan/api/" target="_blank"
        >API</a
      >
      <a href="https://www.npmjs.com/package/thingyan" target="_blank">NPM</a>
      <a href="https://jsr.io/@ptm/thingyan" target="_blank">JSR</a>
    </nav>
    <main>
      <h1>Thingyan Calculator</h1>

      <div>
        <p id="bur-c" style="color: goldenrod;"></p>
        <small id="eng-c" style="margin-right: 20px"></small>
        <small id="tdt" style="color: greenyellow;"></small>
      </div>
      <br />
      <span>Myanmar Year </span>
      <input type="number" name="my" id="my" value="1386" /> <br />
      <br />
      <table id="thingyan"></table>
      <br />
      <small><i>
        The algorithm and calculations of this package are base on <a href="https://github.com/yan9a/mmcal/blob/master/javascript/ceMmDateTime.js">Modern Myanmar Calendrical Calculations</a>
      </i></small>
    </main>
    <script type="module">
      import { thingyan } from "https://esm.run/thingyan";
      const my = document.getElementById("my");
      var y = my.value;
      my.addEventListener("change", (e) => {
        e.preventDefault();
        y = my.value;
        tg(y);
      });
      tg(y);
      function tg(year) {
        var a = thingyan(parseInt(year));
        var akt = a.AkyaDayTime.split(",").slice(-1).join(",");
        var akd = a.AkyaDayTime.split(",").slice(0, 3).join(",");
        var atatT = a.AtatDayTime.split(",").slice(-1).join(",");
        var atatd = a.AtatDayTime.split(",").slice(0, 3).join(",");
        var akyat2 =
          a.AkyatDay2 === ""
            ? `<small style="color: yellow">Only one Akyat Day</small>`
            : a.AkyatDay2;
        const html = ` <tbody> <tr> <td>Year From</td><td style="color: gold;">${a.YearFrom}</td></tr><tr> <td>Year To</td><td style="color: gold;">${a.YearTo}</td></tr><tr> <td>Akyo Day</td><td style="color: gold;">${a.AkyoDay}</td></tr><tr> <td>Akya Day</td><td style="color: gold;">${akd}</td></tr><tr> <td style="font-style: italic;">Akya Time</td><td style="color: green; font-style: italic;">${akt}</td></tr><tr> <td>Akyat Day</td><td style="color: gold;">${a.AkyatDay}</td></tr><tr> <td>Akyat Day</td><td style="color: gold;">${akyat2}</td></tr><tr> <td>Atat Day</td><td style="color: gold;">${atatd}</td></tr><tr> <td style="font-style: italic;">Atat Time</td><td style="color: green; font-style: italic;">${atatT}</td></tr><tr> <td>New Year </td><td style="color: gold;">${a.NewYearDay}</td></tr></tbody> `;
        document.getElementById("thingyan").innerHTML = html;
      }
    </script>
    <script src="https://cdn.jsdelivr.net/gh/phothinmg/master-repo@main/burmese-calendar/burmesecalendar.min.js"></script>
  </body>
</html>
